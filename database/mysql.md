# 索引  
## 索引失效
1. 在查询条件上没有使用引导列(索引的最左列)
2. 查询的数量是大表的大部分,mysql可能判断不使用索引比使用索引的要快。
3. 查询条件使用函数在索引列上，或者对索引列进行运算
4. 隐式转换导致索引失效
5. 对小表进行查询，查询数据过少
6. CBO（优化查询，指定执行计划）计算走索引花费过大的情况。其实也包含了上面的情况，这里指的是表占有的block要比索引小。（这里有点没看懂）
7. like “%_” 百分号在前.
8. <>、not in、not exit 
9. is null 在列约束为NOT NULL的情况下会优化，在可能有NULL的情况不优化。
10. col_name = expr OR col_name IS NULL,如果col_name有索引，则会使用ref_or_null 优化。

## innodb支持的索引
1. B+树索引
2. 全文索引
3. 哈希索引（innodb会根据表的情况自动生成索引，不能人为干预是否在一张表中生成索引）
### 聚集索引
innodb按照聚集索引组织数据，聚集索引的叶子节点（数据页）存储一行数据，非叶子节点（非数据页的索引页）存放偏移量。
### 辅助索引
辅助索引的叶子节点不包含记录行数据，叶子节点包含键值和书签（书签即聚集索引的键值）
### 联合索引
多个列的索引，键值由多个列组成。单列索引在一个页上能存储的记录更多。联合索引索引按照多个键值构建一个B+树。
### 覆盖索引
覆盖从辅助索引中就可以找的足够的信息（辅助索引的键，聚集索引的键），不需要去聚集索引中找具体的记录行。或是辅助索引的键加count(*)



